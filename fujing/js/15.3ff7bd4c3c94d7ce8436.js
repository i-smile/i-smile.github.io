(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"544":function(e,t,n){"use strict";function isEmpty(e){return void 0===e||""===e||null===e||"{}"===JSON.stringify(e)}function valiIdCard(e){return!!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e)}function valiPhone(e){if(!e)return!1;return/^((\d{3,4}-)?\d{7,8})$|^1(3|4|5|7|8)\d{9}$/.test(e)}function valiCarNumber(e){return/^桂[林]?[0-9A-Z]{5,6}$/.test(e)}n.d(t,"a",(function(){return isEmpty})),n.d(t,"c",(function(){return valiIdCard})),n.d(t,"d",(function(){return valiPhone})),n.d(t,"b",(function(){return valiCarNumber}))},"599":function(e,t,n){"use strict";n.d(t,"a",(function(){return getDictItem}));var a=n(15),i=n.n(a),o=n(18),s=n(31);function getDictItem(e){return _getDictItem.apply(this,arguments)}function _getDictItem(){return(_getDictItem=Object(o.a)(i.a.mark((function _callee(e){var t;return i.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new Error("字典Code不能为空");case 2:return n.next=4,Object(s.a)("/api/sysDict/getDictItemsByDictCode?dictCode=".concat(e),{"method":"post"});case 4:if(200!==(t=n.sent).resultCode){n.next=7;break}return n.abrupt("return",t.data.map((function(e){return{"text":e.itemText,"value":e.itemValue}})));case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),_callee)})))).apply(this,arguments)}},"602":function(e,t,n){var a=n(21),i=n(754);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={"insert":"head","singleton":!1},s=(a(i,o),i.locals?i.locals:{});e.exports=s},"603":function(e,t,n){var a=n(21),i=n(756);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={"insert":"head","singleton":!1},s=(a(i,o),i.locals?i.locals:{});e.exports=s},"753":function(e,t,n){"use strict";var a=n(602);n.n(a).a},"754":function(e,t,n){(t=n(19)(!1)).push([e.i,".component-pop_list_witd_search {\n  width: 86%;\n  padding: 0.44444rem;\n  -webkit-box-shadow: 0.04444rem 0.04444rem 0.08889rem rgba(100, 100, 100, 0.3);\n          box-shadow: 0.04444rem 0.04444rem 0.08889rem rgba(100, 100, 100, 0.3);\n  border-radius: 0.08889rem;\n}\n.component-pop_list_witd_search .title {\n  text-align: center;\n  font-size: 0.71111rem;\n  margin-bottom: 0.44444rem;\n}\n.component-pop_list_witd_search .van-field {\n  border: 0.04444rem solid #ddd;\n  border-radius: 0.08889rem;\n  padding: 0.17778rem 0.26667rem;\n}\n.component-pop_list_witd_search .list-wrap {\n  margin-top: 0.44444rem;\n  min-width: 40vh;\n  max-height: 70vh;\n  overflow: auto;\n}\n.component-pop_list_witd_search .list-wrap li {\n  line-height: 1.6;\n  padding: 0.35556rem 0;\n}\n.component-pop_list_witd_search .list-wrap li:hover {\n  color: #456fe4;\n}\n",""]),e.exports=t},"755":function(e,t,n){"use strict";var a=n(603);n.n(a).a},"756":function(e,t,n){(t=n(19)(!1)).push([e.i,".page-illegal-info {\n  min-height: 100vh;\n  padding-bottom: 2.66667rem;\n}\n.page-illegal-info .btn-wrap {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  padding: 0.44444rem 0;\n  background-color: #fff;\n  text-align: center;\n}\n.page-illegal-info .btn-wrap .btn {\n  display: inline-block;\n  width: 40%;\n  padding: 0.31111rem 0;\n  border-radius: 0.71111rem;\n  text-align: center;\n  -webkit-box-shadow: 0.04444rem 0.04444rem 0.17778rem rgba(100, 100, 100, 0.4);\n          box-shadow: 0.04444rem 0.04444rem 0.17778rem rgba(100, 100, 100, 0.4);\n}\n.page-illegal-info .btn-wrap .pre-btn {\n  color: #456fe4;\n  margin-right: 0.8rem;\n}\n.page-illegal-info .btn-wrap .print-btn {\n  color: #fff;\n  background-color: #456fe4;\n}\n",""]),e.exports=t},"865":function(e,t,n){"use strict";n.r(t);var a=n(15),i=n.n(a),o=n(3),s=n(18),r=(n(522),n(520)),u=(n(528),n(529)),c=(n(536),n(541)),l=(n(523),n(515)),p=(n(631),n(638)),h=(n(632),n(639)),d=(n(636),n(691)),m=(n(598),n(59)),v=n(30),f=n(4),P=n(44),y=n(1),g=n.n(y),S=n(736),w=n.n(S),b=n(32),_=n(45),x=n.n(_),T=n(637),O=n.n(T),A=n(31),k=n(544),C=n(20);f.a.use(m.a).use(c.a);var I={"name":"PopListWithSearch","components":{},"props":["show","title","list"],"data":function data(){return{"searchStr":""}},"computed":{"filteredList":function filteredList(){var e=this,t=[];return this.searchStr.length>0?this.list.forEach((function(n){n.indexOf(e.searchStr)>-1&&t.push(n)})):t=Object(C.a)(this.list),t}},"methods":{"onClose":function onClose(){this.$emit("onClose")},"onItemClick":function onItemClick(e){this.$emit("onClose"),this.$emit("onItemSelected",e)}}},j=(n(753),n(512)),M=Object(j.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-popup",{"staticClass":"component-pop_list_witd_search","attrs":{"value":e.show},"on":{"click-overlay":e.onClose}},[n("div",{"staticClass":"title"},[e._v(e._s(e.title))]),e._v(" "),n("van-field",{"attrs":{"placeholder":"可输入关键字筛选"},"model":{"value":e.searchStr,"callback":function(t){e.searchStr=t},"expression":"searchStr"}}),e._v(" "),n("ul",{"staticClass":"list-wrap"},e._l(e.filteredList,(function(t){return n("li",{"key":t,"staticClass":"van-hairline--bottom","on":{"click":function(){return e.onItemClick(t)}}},[e._v("\n      "+e._s(t)+"\n    ")])})),0)],1)}),[],!1,null,null,null).exports,R=n(599);function saveAdministrativeArea(e){localStorage.setItem("administrativeArea",JSON.stringify(e))}function savePunishRoad(e){localStorage.setItem("punishRoad",JSON.stringify(e))}function getPunishRoad(){var e=localStorage.getItem("punishRoad")||"{}";return JSON.parse(e)}function savePunishPlace(e){localStorage.setItem("punishPlace",JSON.stringify(e))}function getPunishPlace(){var e=localStorage.getItem("punishPlace")||"{}";return JSON.parse(e)}function removePunishPlace(e){localStorage.removeItem("punishPlace")}function saveApproveMan(e){localStorage.setItem("approveMan",JSON.stringify(e))}function getApproveMan(){var e=localStorage.getItem("approveMan")||"{}";return JSON.parse(e)}var N=n(27),L=n(47);function getPhotoOrientation(e){return new Promise((function(t,n){O.a.getData(e,(function(){var n=O.a.getTag(e,"Orientation");t(n)}))}))}function compressImageFile(e){return _compressImageFile.apply(this,arguments)}function _compressImageFile(){return(_compressImageFile=Object(s.a)(i.a.mark((function _callee13(e){var t,n,a,o,s,r,u,c;return i.a.wrap((function _callee13$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.file,n=e.maxWidth,a=void 0===n?1200:n,o=e.maxHeight,s=void 0===o?1200:o,r=e.compressLevel,u=void 0===r?.6:r,i.next=3,getPhotoOrientation(t);case 3:return c=i.sent,i.abrupt("return",new Promise((function(e,n){var i=t,o=new FileReader;o.readAsDataURL(i),o.onload=function(t){var n=new Image;n.src=t.target.result,n.onload=function(){var t=document.createElement("canvas"),i=t.getContext("2d"),o=n.width,r=n.height,l=o,p=r;if(o>a||r>s){var h=Math.max(o/a,r/s);l=o/h,p=r/h}else l=o,p=r;6===c?(t.width=p,t.height=l,i.rotate(90*Math.PI/180),i.drawImage(n,0,-p,l,p)):(t.width=l,t.height=p,i.drawImage(n,0,0,l,p));for(var d=t.toDataURL("image/jpeg",u).split(","),m=d[0].match(/:(.*?);/)[1],v=atob(d[1]),f=v.length,P=new Uint8Array(f);f--;)P[f]=v.charCodeAt(f);var y=new window.File([new Blob([P],{"type":m})],"test.jpeg",{"type":"image/jpeg"});e(y)}}})));case 5:case"end":return i.stop()}}),_callee13)})))).apply(this,arguments)}f.a.use(r.a).use(u.a).use(c.a).use(l.a).use(p.a).use(h.a).use(d.a).use(m.a);var $={"name":"IllegalPunish","components":{"PopListWithSearch":M},"data":function data(){return{"violationTime":g()().format("YYYY-MM-DD HH:mm:ss"),"administrativeAreaPopShow":!1,"administrativeArea":{},"administrativeAreaStr":[],"administrativeAreas":[],"punishRoadPopShow":!1,"punishRoad":{},"punishRoadsStr":[],"punishRoads":[],"punishPlacePopShow":!1,"punishPlace":{},"punishPlacees":[],"punishPlaceesStr":[],"punishAddress":"","violationCode":"","violationsPopShow":!1,"violationOptions":[],"violationsStr":[],"punishTypeCode":"","isShowPunishTypePicker":!1,"punishTypeOptions":[],"paymentTypeCode":"","isShowPaymentTypePicker":!1,"paymentTypeOptions":[],"paymentStatusCode":"","isShowPaymentStatusPicker":!1,"paymentStatusOptions":[],"rejectFlag":"0","rejectFlagOptions":[{"text":"否","value":"0"},{"text":"是","value":"1"}],"approveManId":"","approveManOptionsPopShow":!1,"approveManOptions":[],"approveManOptionsStr":[],"fromLocal":!0}},"computed":Object(o.a)(Object(o.a)({},Object(P.d)("punishment",["punishInfo"])),{},{"isPersonalType":function isPersonalType(){return"行人"===this.violationType},"violation":function violation(){return this.violationOptions.length&&this.violationCode&&b.a.find(this.violationOptions,{"code":this.violationCode})||{}},"approveMan":function approveMan(){return this.approveManOptions.length&&this.approveManId&&b.a.find(this.approveManOptions,{"id":this.approveManId})||{}},"violationAction":function violationAction(){return this.violation&&this.violation.violationAction?this.violation.violationAction:""},"punishType":function punishType(){var e=this;return this.punishTypeOptions.length&&this.punishTypeCode&&b.a.find(this.punishTypeOptions,(function(t){return t.value===e.punishTypeCode}))||{}},"penaltyAmount":function penaltyAmount(){return this.punishType&&this.punishType.text&&"警告"===this.punishType.text.trim()?0:this.violation&&this.violation.penaltyAmount?this.violation.penaltyAmount:""},"paymentType":function paymentType(){return this.punishType&&this.punishType.text&&"警告"===this.punishType.text.trim()?b.a.find(this.paymentTypeOptions,{"text":"不罚款"})||{}:this.punishType&&this.punishType.text&&"罚款"===this.punishType.text.trim()&&b.a.find(this.paymentTypeOptions,{"text":"银行缴款"})||{}},"paymentStatus":function paymentStatus(){return this.punishType&&this.punishType.text&&"警告"===this.punishType.text.trim()?b.a.find(this.paymentStatusOptions,{"text":"无需交款"})||{}:this.punishType&&this.punishType.text&&"罚款"===this.punishType.text.trim()&&b.a.find(this.paymentStatusOptions,{"text":"未交款"})||{}}}),"created":function created(){var e=this;return Object(s.a)(i.a.mark((function _callee(){var t,n,a,o,s,r,u,c,l,p,h,d,m;return i.a.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(e.getviolationOptions(),e.getApprovalMens(),e.getPunishTypeOptions(),e.getPaymentTypeOptions(),e.getPaymentStatusOptions(),e.punishInfo.id){i.next=13;break}e.administrativeArea=(v=void 0,v=localStorage.getItem("administrativeArea")||"{}",JSON.parse(v)),e.punishRoad=getPunishRoad(),e.punishPlace=getPunishPlace(),e.approveManId=getApproveMan().id,e.getAdministrativeAreas(),i.next=26;break;case 13:return e.fromLocal=!1,t=e.punishInfo,t.xingzhengQuhua,n=t.xingzhengQuhuaCode,a=t.punishRoadCode,o=t.punishPlaceCode,s=t.punishAddress,r=t.violationCode,u=t.violationAction,c=t.punishTypeCode,l=t.penaltyAmount,p=t.paymentType,h=t.rejectFlag,d=t.approveManId,m=g()(e.punishInfo.violationTime).format("YYYY-MM-DD HH:mm:ss"),Object.assign(e.$data,{"violationTime":m,"xingzhengQuhuaCode":n,"punishRoadCode":a,"punishPlaceCode":o,"punishAddress":s,"violationCode":r,"violationAction":u,"punishTypeCode":c,"penaltyAmount":l,"paymentType":p,"rejectFlag":h,"approveManId":d}),i.next=19,e.getAdministrativeAreas();case 19:return e.administrativeArea=b.a.find(e.administrativeAreas,{"quhuaCode":n})||{},i.next=22,e.getPunishRoads();case 22:return e.punishRoad=b.a.find(e.punishRoads,{"luduanCode":a})||{},i.next=25,e.getPunishPlacees();case 25:e.punishPlace=b.a.find(e.punishPlacees,{"lukouCode":o})||{};case 26:case"end":return i.stop()}var v}),_callee)})))()},"watch":{"administrativeArea":function administrativeArea(){this.fromLocal||(this.punishRoad={},this.punishRoads=[],this.punishRoadsStr=[],this.punishPlace={},this.punishPlacees=[],this.punishPlaceesStr=[]),this.getPunishRoads()},"punishRoad":function punishRoad(){this.fromLocal||(this.punishPlace={},this.punishPlacees=[],this.punishPlaceesStr=[]),this.punishAddress="".concat(this.punishRoad.luduanName||""," ").concat(this.punishPlace.lukouName||""),this.getPunishPlacees()},"punishPlace":function punishPlace(){this.punishAddress="".concat(this.punishRoad.luduanName||""," ").concat(this.punishPlace.lukouName||"")}},"methods":Object(o.a)(Object(o.a)({},Object(P.c)("punishment",["PUT_PUNISH_INFO"])),{},{"gotoPrePage":function gotoPrePage(){v.default.navigateBack()},"getAdministrativeAreas":function getAdministrativeAreas(){var e=this;return Object(s.a)(i.a.mark((function _callee2(){var t,n,a;return i.a.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return t={"pageNo":1,"pageSize":1e4,"searchStr":"4503"},i.next=3,Object(A.a)("/api/tCodeXingzhengQuhua/searchPage?".concat(x.a.stringify(t)),{"method":"post"});case 3:200===(n=i.sent).resultCode&&(a=n.data&&n.data.records,e.administrativeAreas=a,e.administrativeAreaStr=a.map((function(e){return"".concat(e.quhuaCode,"：").concat(e.quhuaName)})));case 5:case"end":return i.stop()}}),_callee2)})))()},"getPunishRoads":function getPunishRoads(){var e=this;return Object(s.a)(i.a.mark((function _callee3(){var t,n,a;return i.a.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return t={"pageNo":1,"pageSize":1e4,"quhuaId":e.administrativeArea.id},i.next=3,Object(A.a)("/api/tCodeLuduan/searchPageByQuhua?".concat(x.a.stringify(t)),{"method":"post"});case 3:200===(n=i.sent).resultCode&&(a=n.data&&n.data.records,e.punishRoads=a,e.punishRoadsStr=a.map((function(e){return e.luduanName})));case 5:case"end":return i.stop()}}),_callee3)})))()},"getPunishPlacees":function getPunishPlacees(){var e=this;return Object(s.a)(i.a.mark((function _callee4(){var t,n,a;return i.a.wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return t={"pageNo":1,"pageSize":1e4,"luduanId":e.punishRoad.id},i.next=3,Object(A.a)("/api/tCodeLukou/searchPageByLuduan?".concat(x.a.stringify(t)),{"method":"post"});case 3:200===(n=i.sent).resultCode&&(a=n.data.records,e.punishPlacees=a,e.punishPlaceesStr=a.map((function(e){return e.lukouName})));case 5:case"end":return i.stop()}}),_callee4)})))()},"getviolationOptions":function getviolationOptions(){var e=this;return Object(s.a)(i.a.mark((function _callee5(){var t,n;return i.a.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return t={"code":"","pageNo":1,"pageSize":500,"violationAction":""},a.next=3,Object(A.a)("/api/tViolationCode/searchPage?".concat(x.a.stringify(t)),{"method":"post"});case 3:200===(n=a.sent).resultCode&&(e.violationOptions=n.data.records,e.violationsStr=e.violationOptions.map((function(e){return e.code+" — "+e.violationAction})));case 5:case"end":return a.stop()}}),_callee5)})))()},"onPaymentStatusPickerConfirm":function onPaymentStatusPickerConfirm(e){this.paymentStatusCode=e.value,this.isShowPaymentStatusPicker=!1},"onPaymentTypePickerConfirm":function onPaymentTypePickerConfirm(e){this.paymentTypeCode=e.value,this.isShowPaymentTypePicker=!1},"onPunishTypePickerConfirm":function onPunishTypePickerConfirm(e){this.punishTypeCode=e.value,this.isShowPunishTypePicker=!1},"getPaymentStatusOptions":function getPaymentStatusOptions(){var e=this;return Object(s.a)(i.a.mark((function _callee6(){return i.a.wrap((function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(R.a)("payment_status").then((function(t){null!=t&&(e.paymentStatusOptions=t)}));case 2:case"end":return t.stop()}}),_callee6)})))()},"getPaymentTypeOptions":function getPaymentTypeOptions(){var e=this;return Object(s.a)(i.a.mark((function _callee7(){return i.a.wrap((function _callee7$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(R.a)("payment_type").then((function(t){null!=t&&(e.paymentTypeOptions=t)}));case 2:case"end":return t.stop()}}),_callee7)})))()},"getPunishTypeOptions":function getPunishTypeOptions(){var e=this;return Object(s.a)(i.a.mark((function _callee8(){return i.a.wrap((function _callee8$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(R.a)("punish_type").then((function(t){null!=t&&(e.punishTypeOptions=t)}));case 2:case"end":return t.stop()}}),_callee8)})))()},"getApprovalMens":function getApprovalMens(){var e=this;return Object(s.a)(i.a.mark((function _callee9(){var t,n;return i.a.wrap((function _callee9$(a){for(;;)switch(a.prev=a.next){case 0:return t={"pageNo":1,"pageSize":500,"userType":1,"searchStr":""},a.next=3,Object(A.a)("/api/sysUser/searchPageByUserType?".concat(x.a.stringify(t)),{"method":"post"});case 3:200===(n=a.sent).resultCode&&(e.approveManOptions=n.data.records,e.approveManOptionsStr=e.approveManOptions.map((function(e){return e.realName})));case 5:case"end":return a.stop()}}),_callee9)})))()},"onShowPunishPlace":function onShowPunishPlace(){this.punishRoad&&this.punishRoad.id?this.punishPlacePopShow=!0:Object(r.a)("请先选择违法地点")},"onShowPunishRoad":function onShowPunishRoad(){this.administrativeArea&&this.administrativeArea.id?this.punishRoadPopShow=!0:Object(r.a)("请先选择行政区划")},"onPunishPlaceSelect":function onPunishPlaceSelect(e){this.fromLocal=!1,this.punishPlace=b.a.find(this.punishPlacees,(function(t){return t.lukouName===e})),savePunishPlace(this.punishPlace)},"onPunishRoadSelect":function onPunishRoadSelect(e){this.fromLocal=!1,this.punishRoad=b.a.find(this.punishRoads,(function(t){return t.luduanName===e})),savePunishRoad(this.punishRoad),removePunishPlace()},"onAdministrativeAreaSelect":function onAdministrativeAreaSelect(e){this.fromLocal=!1,this.administrativeArea=b.a.find(this.administrativeAreas,(function(t){return"".concat(t.quhuaCode,"：").concat(t.quhuaName)===e})),saveAdministrativeArea(this.administrativeArea),function removePunishRoad(e){localStorage.removeItem("punishRoad")}(),removePunishPlace()},"onIllegalCodeSelect":function onIllegalCodeSelect(e){this.violationCode=b.a.find(this.violationOptions,(function(t){return t.code+" — "+t.violationAction===e})).code},"onApprovalMenSelect":function onApprovalMenSelect(e){var t=this;this.approveManId=b.a.find(this.approveManOptions,(function(t){return t.realName===e})).id,setTimeout((function(){saveApproveMan(t.approveMan)}),500)},"valid":function valid(){for(var e=!0,t=this.administrativeArea,n=this.punishRoad,a=(this.punishPlace,this.violation),i=this.approveMan,o=this.punishType,s=(this.paymentType,this.paymentStatus,[{"value":t,"txt":"请选择行政区划"},{"value":n,"txt":"请选择违法地点"},{"value":a,"txt":"请选择违法代码"},{"value":o,"txt":"请选择处罚方式"},{"value":this.rejectFlag,"txt":"请选择拒收拒签标记"},{"value":i,"txt":"请选择审核警员"}]),u=0;u<s.length;u++){var c=s[u];if(Object(k.a)(c.value)){Object(r.a)(c.txt),e=!1;break}}return e},"submit":function submit(){var e=this;return Object(s.a)(i.a.mark((function _callee12(){var t,n,a,o,u,c,l,p,h;return i.a.wrap((function _callee12$(d){for(;;)switch(d.prev=d.next){case 0:if(e.valid()){d.next=2;break}return d.abrupt("return");case 2:if(saveAdministrativeArea(e.administrativeArea),savePunishRoad(e.punishRoad),savePunishPlace(e.punishPlace),saveApproveMan(e.approveMan),Object(v.showLoading)({"title":"提交数据中...","mask":!0}),t=e.punishInfo,n=[],!t.images||!t.images.length){d.next=17;break}return d.next=12,Promise.all(t.images.filter((function(e){return!e.url})).map((function(e){return compressImageFile({"file":e.file,"maxWidth":1e3,"compressLevel":.6})})));case 12:return a=d.sent,o=a.map(function(){var e=Object(s.a)(i.a.mark((function _callee11(e){var t,n;return i.a.wrap((function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(L.a)();case 2:return t=a.sent,(n=new FormData).append("file",e),a.abrupt("return",Object(s.a)(i.a.mark((function _callee10(){var e;return i.a.wrap((function _callee10$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w()({"url":"".concat(N.a,"/api/tFileInfo/fileUpload"),"headers":{"Authorization":t},"method":"post","data":n});case 2:return e=a.sent,a.abrupt("return",e);case 4:case"end":return a.stop()}}),_callee10)})))());case 6:case"end":return a.stop()}}),_callee11)})));return function(t){return e.apply(this,arguments)}}()),d.next=16,Promise.all(o);case 16:n=d.sent;case 17:return u=t.images.filter((function(e){return e.url})).map((function(e){return e.id})),c=n.map((function(e){return e.data.data.id})).concat(u).join(","),l={"documentNumber":t.documentNumber,"offenderName":t.offenderName,"phone":t.phone,"carNumber":t.carNumber||"无","violationType":t.violationType.text,"violationTypeCode":t.violationType.value,"trafficMode":null==t.trafficMode?"":t.trafficMode.text,"trafficModeCode":null==t.trafficMode?"":t.trafficMode.value,"carType":null==t.carType?"":t.carType.text,"carTypeCode":null==t.carType?"":t.carType.value,"violationTime":e.violationTime,"xingzhengQuhua":e.administrativeArea.quhuaName,"xingzhengQuhuaCode":e.administrativeArea.quhuaCode,"punishRoad":e.punishRoad.luduanName,"punishRoadCode":e.punishRoad.luduanCode,"punishPlace":e.punishPlace.lukouName||"","punishPlaceCode":e.punishPlace.lukouCode||"","punishAddress":e.punishAddress,"violationAction":e.violationAction,"violationCode":e.violation.code,"penaltyAmount":e.penaltyAmount,"punishType":e.punishType.text,"punishTypeCode":e.punishType.value,"paymentType":e.paymentType.text,"paymentTypeCode":e.paymentType.value,"paymentFlag":e.paymentStatus.text,"paymentFlagCode":e.paymentStatus.value,"rejectFlag":e.rejectFlag,"approveManId":e.approveMan.id,"approveMan":e.approveMan.realName},c&&(l.punishImageIds=c),p="/api/tPunishment/fuJingAdd",e.punishInfo.id&&(p="/api/tPunishment/fuJingEdit/".concat(e.punishInfo.id)),d.next=25,Object(A.a)("".concat(p,"?").concat(x.a.stringify(l)),{"method":"post"});case 25:200===(h=d.sent).resultCode?(Object(r.a)("提交成功"),e.PUT_PUNISH_INFO({}),setTimeout((function(){v.default.navigateBack(),setTimeout(v.default.navigateBack,50)}),1e3)):Object(r.a)(h.message),Object(v.hideLoading)();case 28:case"end":return d.stop()}}),_callee12)})))()}})},F=(n(755),Object(j.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{"staticClass":"page page-illegal-info"},[n("div",{"staticClass":"main-content"},[n("van-cell-group",[n("van-field",{"attrs":{"required":"","readonly":"","label":"违法时间"},"model":{"value":e.violationTime,"callback":function(t){e.violationTime=t},"expression":"violationTime"}}),e._v(" "),n("van-field",{"attrs":{"required":"","value":e.administrativeArea.quhuaName,"label":"行政区划","readonly":"","placeholder":"请选择行政区划"},"on":{"click":function(t){e.administrativeAreaPopShow=!0}}}),e._v(" "),n("van-field",{"attrs":{"required":"","value":e.punishRoad.luduanName,"label":"违法地点","readonly":"","placeholder":"请选择违法地点"},"on":{"click":e.onShowPunishRoad}}),e._v(" "),n("van-field",{"attrs":{"value":e.punishPlace.lukouName,"label":"路口路段","readonly":"","placeholder":"请选择路口路段"},"on":{"click":e.onShowPunishPlace}}),e._v(" "),n("van-field",{"attrs":{"required":"","label":"处罚地点","placeholder":"根据违法地点和路口地段生成"},"model":{"value":e.punishAddress,"callback":function(t){e.punishAddress=t},"expression":"punishAddress"}}),e._v(" "),n("van-field",{"attrs":{"required":"","value":e.violation.code,"label":"违法代码","readonly":"","placeholder":"请选择违法代码"},"on":{"click":function(t){e.violationsPopShow=!0}}}),e._v(" "),n("van-field",{"attrs":{"required":"","type":"textarea","autosize":"","readonly":"","label":"违法行为","placeholder":"根据所选违法代码生成"},"model":{"value":e.violationAction,"callback":function(t){e.violationAction=t},"expression":"violationAction"}}),e._v(" "),n("van-field",{"attrs":{"value":e.penaltyAmount,"required":"","readonly":"","label":"罚款金额","placeholder":"根据所选违法代码生成"}}),e._v(" "),n("van-field",{"attrs":{"required":"","clearable":"","label":"处罚方式","placeholder":"请选择处罚方式","readonly":""},"on":{"click":function(t){e.isShowPunishTypePicker=!0}},"model":{"value":e.punishType.text,"callback":function(t){e.$set(e.punishType,"text",t)},"expression":"punishType.text"}}),e._v(" "),n("van-field",{"attrs":{"required":"","clearable":"","label":"拒收拒签方式"}},[n("van-dropdown-menu",{"attrs":{"slot":"input","overlay":!1},"slot":"input"},[n("van-dropdown-item",{"attrs":{"options":e.rejectFlagOptions},"model":{"value":e.rejectFlag,"callback":function(t){e.rejectFlag=t},"expression":"rejectFlag"}})],1)],1),e._v(" "),n("van-field",{"attrs":{"required":"","value":e.approveMan.realName,"label":"审核警员","readonly":"","placeholder":"请选择审核警员"},"on":{"click":function(t){e.approveManOptionsPopShow=!0}}})],1)],1),e._v(" "),n("div",{"staticClass":"btn-wrap"},[n("div",{"staticClass":"btn pre-btn","on":{"click":e.gotoPrePage}},[e._v("上一步（违法信息）")]),e._v(" "),n("div",{"staticClass":"btn print-btn","on":{"click":e.submit}},[e._v("提交审核")])]),e._v(" "),n("PopListWithSearch",{"attrs":{"show":e.administrativeAreaPopShow,"title":"请选择行政区划","list":e.administrativeAreaStr},"on":{"onItemSelected":e.onAdministrativeAreaSelect,"onClose":function(t){e.administrativeAreaPopShow=!1}}}),e._v(" "),n("PopListWithSearch",{"attrs":{"show":e.punishRoadPopShow,"title":"请选择违法地点","list":e.punishRoadsStr},"on":{"onItemSelected":e.onPunishRoadSelect,"onClose":function(t){e.punishRoadPopShow=!1}}}),e._v(" "),n("PopListWithSearch",{"attrs":{"show":e.punishPlacePopShow,"title":"请选择路口路段","list":e.punishPlaceesStr},"on":{"onItemSelected":e.onPunishPlaceSelect,"onClose":function(t){e.punishPlacePopShow=!1}}}),e._v(" "),n("PopListWithSearch",{"attrs":{"show":e.violationsPopShow,"title":"请选择违法代码","list":e.violationsStr},"on":{"onItemSelected":e.onIllegalCodeSelect,"onClose":function(t){e.violationsPopShow=!1}}}),e._v(" "),n("van-popup",{"attrs":{"position":"bottom"},"model":{"value":e.isShowPunishTypePicker,"callback":function(t){e.isShowPunishTypePicker=t},"expression":"isShowPunishTypePicker"}},[n("van-picker",{"attrs":{"show-toolbar":"","columns":e.punishTypeOptions},"on":{"cancel":function(t){e.isShowPunishTypePicker=!1},"confirm":e.onPunishTypePickerConfirm}})],1),e._v(" "),n("van-popup",{"attrs":{"position":"bottom"},"model":{"value":e.isShowPaymentTypePicker,"callback":function(t){e.isShowPaymentTypePicker=t},"expression":"isShowPaymentTypePicker"}},[n("van-picker",{"attrs":{"show-toolbar":"","columns":e.paymentTypeOptions},"on":{"cancel":function(t){e.isShowPaymentTypePicker=!1},"confirm":e.onPaymentTypePickerConfirm}})],1),e._v(" "),n("van-popup",{"attrs":{"position":"bottom"},"model":{"value":e.isShowPaymentStatusPicker,"callback":function(t){e.isShowPaymentStatusPicker=t},"expression":"isShowPaymentStatusPicker"}},[n("van-picker",{"attrs":{"show-toolbar":"","columns":e.paymentStatusOptions},"on":{"cancel":function(t){e.isShowPaymentStatusPicker=!1},"confirm":e.onPaymentStatusPickerConfirm}})],1),e._v(" "),n("PopListWithSearch",{"attrs":{"show":e.approveManOptionsPopShow,"title":"请选择审核警员","list":e.approveManOptionsStr},"on":{"onItemSelected":e.onApprovalMenSelect,"onClose":function(t){e.approveManOptionsPopShow=!1}}})],1)}),[],!1,null,null,null));t.default=F.exports}}]);